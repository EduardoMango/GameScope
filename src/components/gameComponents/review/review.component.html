<div class="register-container">
  <h2 class="register-container-h2">{{ videogame?.title }}</h2>
  <div class="form-container">
    <form class="form" [formGroup]="reviewForm" (ngSubmit)="onSubmit()">

      <!-- TITULO REVIEW -->
      <div class="form-group">
        <h4>Review Title</h4>
        <label for="titulo"></label>
        <input type="text" id="titulo" formControlName="titulo" class="form-control titulo" placeholder="Title" />
        
        <div *ngIf="reviewForm.get('titulo')?.touched && reviewForm.get('titulo')?.invalid" class="error-msj">
          <small *ngIf="reviewForm.get('titulo')?.errors?.['required']">The title is required.</small>
          <small *ngIf="reviewForm.get('titulo')?.errors?.['minlength']">The title must be at least 10 characters long.</small>
          <small *ngIf="reviewForm.get('titulo')?.errors?.['maxlength']">The title must not exceed 100 characters.</small>
        </div>
      </div>

      <!-- CONTENIDO -->
      <div class="form-group">
        <h4>General comments</h4>
        <label for="contenido"></label>
        <textarea id="contenido" formControlName="contenido" rows="4" cols="58" class="form-control" placeholder="Write your comment..."></textarea>
        
        <div *ngIf="reviewForm.get('contenido')?.touched && reviewForm.get('contenido')?.invalid">
          <small *ngIf="reviewForm.get('contenido')?.errors?.['required']">General comment is required.</small>
          <small *ngIf="reviewForm.get('contenido')?.errors?.['minlength']">The comment must be at least 50 characters long.</small>
          <small *ngIf="reviewForm.get('contenido')?.errors?.['maxlength']">The comment must not exceed 500 characters.</small>
        </div>
      </div>

      <!-- CALIFICACION GRÁFICOS -->
      <div class="form-group">
        <h4>Graphics</h4>
        <app-star-rating 
          [rating]="reviewForm.get('puntuacionGraficos')?.value"
          (ratingChange)="reviewForm.get('puntuacionGraficos')?.setValue($event)">
        </app-star-rating>
        <div *ngIf="reviewForm.get('puntuacionGraficos')?.touched && reviewForm.get('puntuacionGraficos')?.invalid">
          <small *ngIf="reviewForm.get('puntuacionGraficos')?.errors?.['required']">Rating for Graphics is required.</small>
        </div>

        <textarea formControlName="comentarioGraficos" rows="3" cols="58" placeholder="Write your comment on the graphics..."></textarea>
        <div *ngIf="reviewForm.get('comentarioGraficos')?.touched && reviewForm.get('comentarioGraficos')?.invalid">
          <small *ngIf="reviewForm.get('comentarioGraficos')?.errors?.['required']">Graphics comment is required.</small>
          <small *ngIf="reviewForm.get('comentarioGraficos')?.errors?.['minlength']">The comment must be at least 50 characters long.</small>
          <small *ngIf="reviewForm.get('comentarioGraficos')?.errors?.['maxlength']">The comment must not exceed 500 characters.</small>
        </div>
      </div>

      <!-- CALIFICACION JUGABILIDAD -->
      <div class="form-group">
        <h4>Gameplay</h4>
        <app-star-rating 
          [rating]="reviewForm.get('puntuacionJugabilidad')?.value"
          (ratingChange)="reviewForm.get('puntuacionJugabilidad')?.setValue($event)">
        </app-star-rating>
        <div *ngIf="reviewForm.get('puntuacionJugabilidad')?.touched && reviewForm.get('puntuacionJugabilidad')?.invalid">
          <small *ngIf="reviewForm.get('puntuacionJugabilidad')?.errors?.['required']">Rating for Gameplay is required.</small>
        </div>

        <textarea formControlName="comentarioJugabilidad" rows="3" cols="58" placeholder="Write your comment about the gameplay..."></textarea>
        <div *ngIf="reviewForm.get('comentarioJugabilidad')?.touched && reviewForm.get('comentarioJugabilidad')?.invalid">
          <small *ngIf="reviewForm.get('comentarioJugabilidad')?.errors?.['required']">Playability comment is required.</small>
          <small *ngIf="reviewForm.get('comentarioJugabilidad')?.errors?.['minlength']">The comment must be at least 50 characters long.</small>
          <small *ngIf="reviewForm.get('comentarioJugabilidad')?.errors?.['maxlength']">The comment must not exceed 500 characters.</small>
        </div>
      </div>

      <!-- CALIFICACION RELACION COSTO/CALIDAD -->
      <div class="form-group">
        <h4>Cost/Quality Ratio</h4>
        <app-star-rating 
          [rating]="reviewForm.get('puntuacionPrecioCalidad')?.value"
          (ratingChange)="reviewForm.get('puntuacionPrecioCalidad')?.setValue($event)">
        </app-star-rating>
        <div *ngIf="reviewForm.get('puntuacionPrecioCalidad')?.touched && reviewForm.get('puntuacionPrecioCalidad')?.invalid">
          <small *ngIf="reviewForm.get('puntuacionPrecioCalidad')?.errors?.['required']">Rating for Cost/Quality is required.</small>
        </div>

        <textarea formControlName="comentarioPrecioCalidad" rows="3" cols="58" placeholder="Write your comment about the cost/quality ratio..."></textarea>
        <div *ngIf="reviewForm.get('comentarioPrecioCalidad')?.touched && reviewForm.get('comentarioPrecioCalidad')?.invalid">
          <small *ngIf="reviewForm.get('comentarioPrecioCalidad')?.errors?.['required']">Cost/quality comment is required.</small>
          <small *ngIf="reviewForm.get('comentarioPrecioCalidad')?.errors?.['minlength']">The comment must be at least 50 characters long.</small>
          <small *ngIf="reviewForm.get('comentarioPrecioCalidad')?.errors?.['maxlength']">The comment must not exceed 500 characters.</small>
        </div>
      </div>

      <!-- BOTON DE ENVIO -->
      <div class="button-div">
        <button type="submit" class="button" [disabled]="reviewForm.invalid">Submit Review</button>
      </div>

    </form>
  </div>
</div>
